2021-09-01 22:20:40 jdbc[4]: exception
org.h2.jdbc.JdbcSQLNonTransientException: Unknown data type: "TRANSACTION_STATUS"; SQL statement:
CREATE TABLE "transaction" (
  "id" uuid PRIMARY KEY,
  "idempotency_key" uuid NOT NULL,
  "amount" numeric(13,2) NOT NULL,
  "currency" varchar(3) NOT NULL DEFAULT 'HKD',
  "debtor_account_number" varchar NOT NULL,
  "creditor_account_numebr" varchar NOT NULL,
  "status" transaction_status NOT NULL DEFAULT 'PENDING',
  "created_at" timestamp DEFAULT 'NOW()',
  "updated_at" timestamp DEFAULT 'NOW()'
) [50004-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:505)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.parseColumnWithType(Parser.java:5971)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5697)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1459)
	at org.h2.server.web.WebApp.query(WebApp.java:1116)
	at org.h2.server.web.WebApp$1.next(WebApp.java:1078)
	at org.h2.server.web.WebApp$1.next(WebApp.java:1065)
	at org.h2.server.web.WebThread.process(WebThread.java:178)
	at org.h2.server.web.WebThread.run(WebThread.java:94)
	at java.base/java.lang.Thread.run(Thread.java:832)
2021-09-01 22:21:40 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE ""transaction_log"" (
  ""id"" UUID[[*]PK],
  ""transaction_id"" UUID NOT NULL,
  ""status"" INT NOT NULL DEFAULT 0,
  ""timestamp"" TIMESTAMP NOT NULL
)"; expected "(, FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, COMMENT, CHECK, REFERENCES, ,, )"; SQL statement:
CREATE TABLE "transaction_log" (
  "id" uuid[pk],
  "transaction_id" uuid NOT NULL,
  "status" int NOT NULL DEFAULT 0,
  "timestamp" timestamp NOT NULL
) [42001-200]
2021-09-01 22:22:44 jdbc[4]: exception
org.h2.jdbc.JdbcSQLNonTransientException: Unknown data type: "TRANSACTION_STATUS"; SQL statement:
CREATE TABLE "transaction_log" (
  "id" uuid PRIMARY KEY,
  "transaction_id" uuid NOT NULL,
  "status" transaction_status NOT NULL,
  "timestamp" timestamp NOT NULL
) [50004-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:505)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.parseColumnWithType(Parser.java:5971)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5697)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1459)
	at org.h2.server.web.WebApp.query(WebApp.java:1116)
	at org.h2.server.web.WebApp$1.next(WebApp.java:1078)
	at org.h2.server.web.WebApp$1.next(WebApp.java:1065)
	at org.h2.server.web.WebThread.process(WebThread.java:178)
	at org.h2.server.web.WebThread.run(WebThread.java:94)
	at java.base/java.lang.Thread.run(Thread.java:832)
2021-09-01 22:23:32 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "transaction" already exists; SQL statement:
CREATE TABLE "transaction" (
  "id" uuid PRIMARY KEY,
  "idempotency_key" uuid NOT NULL,
  "amount" numeric(13,2) NOT NULL,
  "currency" varchar(3) NOT NULL DEFAULT 'HKD',
  "debtor_account_number" varchar NOT NULL,
  "creditor_account_numebr" varchar NOT NULL,
  "status" int NOT NULL DEFAULT 0,
  "created_at" timestamp DEFAULT 'NOW()',
  "updated_at" timestamp DEFAULT 'NOW()'
) [42101-200]
2021-09-01 22:23:32 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "account" already exists; SQL statement:
CREATE TABLE "account" (
  "account_number" varchar PRIMARY KEY,
  "balance" numeric(13,2) NOT NULL,
  "currency" varchar(3) NOT NULL DEFAULT 'HKD',
  "created_at" timestamp DEFAULT 'NOW()',
  "updated_at" timestamp DEFAULT 'NOW()'
) [42101-200]
2021-09-01 22:23:32 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE ""transaction_log"" (
  ""id"" UUID[[*]PK],
  ""transaction_id"" UUID NOT NULL,
  ""status"" INT NOT NULL DEFAULT 0,
  ""timestamp"" TIMESTAMP NOT NULL
)"; expected "(, FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, COMMENT, CHECK, REFERENCES, ,, )"; SQL statement:
CREATE TABLE "transaction_log" (
  "id" uuid[pk],
  "transaction_id" uuid NOT NULL,
  "status" int NOT NULL DEFAULT 0,
  "timestamp" timestamp NOT NULL
) [42001-200]
2021-09-01 22:25:37 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "transaction" already exists; SQL statement:
CREATE TABLE "transaction" (
  "id" uuid PRIMARY KEY,
  "idempotency_key" uuid NOT NULL,
  "amount" numeric(13,2) NOT NULL,
  "currency" varchar(3) NOT NULL DEFAULT 'HKD',
  "debtor_account_number" varchar NOT NULL,
  "creditor_account_numebr" varchar NOT NULL,
  "status" varchar NOT NULL DEFAULT 'PENDING',
  "created_at" timestamp DEFAULT 'NOW()',
  "updated_at" timestamp DEFAULT 'NOW()'
) [42101-200]
2021-09-01 22:25:44 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Cannot drop "transaction" because "CONSTRAINT_4B" depends on it; SQL statement:
DROP table "transaction" [90107-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:576)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.command.ddl.DropTable.prepareDrop(DropTable.java:98)
	at org.h2.command.ddl.DropTable.update(DropTable.java:124)
	at org.h2.command.CommandContainer.update(CommandContainer.java:198)
	at org.h2.command.Command.executeUpdate(Command.java:251)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:228)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1459)
	at org.h2.server.web.WebApp.query(WebApp.java:1116)
	at org.h2.server.web.WebApp$1.next(WebApp.java:1078)
	at org.h2.server.web.WebApp$1.next(WebApp.java:1065)
	at org.h2.server.web.WebThread.process(WebThread.java:178)
	at org.h2.server.web.WebThread.run(WebThread.java:94)
	at java.base/java.lang.Thread.run(Thread.java:832)
